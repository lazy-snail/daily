---
title: 视图
date: 2018-04-06 00:17:45
categories: DB
tags: [DB, MySQL]
---
视图（View）是一个命名的虚表，由 SELECT 查询语句定义，没有实际的物理存储，不存放任何数据，只包含从其他表检索出来的数据。意即，视图本身是从其他表中由 SQL 查询语句生成的。视图和表在同一个命名空间，除了不能对视图创建索引、触发器等操作，MySQL在很多地方将视图和表同等对待：比如执行 SELECT 操作、过滤、排序、联结到其他表/视图等。

视图的好处：
* 重用SQL语句；
* 简化复杂的SQL操作；
* 使用表的一部分而不是整个表；
* 保护数据。授予用户特定部分的访问权限而不是整个表的；
* 更改数据格式和表示：视图可返回与底层的格式和表示不同的数据。etc.

视图可以更新，意即通过视图的定义更新其基表（视图本身没有数据）。但如果视图含有如下操作，则不能进行更新：
* 分组（GROUP BY、HAVING)；
* 联结；
* 子查询；
* 并；
* 聚集函数（Mina()、Count()、Sum()等；
* DISTINCT;
* 导出（计算）列。etc.

MySQL不支持物化视图。但可以通过定时将视图导入到新建表的方式模拟物化视图功能（对于ON DEMAND）；或者使用触发器定时导入新建表的方式物化ON COMMIT视图。

定义视图时，可以在视图名后面括号内为列设置别名。

使用视图时，只能引用在该视图定义里列出的那些列。

每次使用视图，都必须处理查询执行时所需的任一个检索，所以可能导致性能问题。
