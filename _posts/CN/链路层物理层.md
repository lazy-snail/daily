---
title: 链路层物理层
date: 2018-04-17 00:19:14
categories: CN
tags: CN
---
# 链路层
## 服务
* framing：成帧。在每个网络层数据报经链路层传送之前，几乎所有的链路层协议都要将其用链路层帧封装起来。一个帧由一个数据字段和若干首部字段组成，网络层数据报就封装在数据字段中。帧结构由具体的链路层协议规定。
* 链路接入。**媒体访问控制协议（Medium Access Control，MAC）** 规定了帧在链路上的传输规则。
* 可靠交付。当链路层协议提供可靠交付服务时，它保证无差错地经链路层移动每个网络层数据报。与运输层 TCP 提供的可靠交付服务类似，链路层可靠交付服务通常通过确认和重传来保证。而许多有线的链路层协议并不提供可靠交付服务。
* 差错检测和纠错。信号衰减、电磁噪声等可能导致链路层数据比特位差错，许多链路层协议提供这类错误的检测和纠正功能：让发送节点在帧中包含差错检测比特位，让接收节点进行差错检查。

## 差错检测和纠错技术
方法有：
* 奇偶校验
* 检验和
* 循环冗余检测（Cyclic Redundancy Check，CRC）编码，也称多项式编码。

## 设备
链路层设备主要有：网卡、网桥。
**网卡**：又称 NIC 卡，用于计算机和局域网的通信；
**网桥**：用于在数据链路层扩展以太网，根据MAC帧的目的地址对收到的帧进行转发和过滤。 含有转发表。它隔离了冲突域，但不隔离广播域。

## 寻址
链路层使用 MAC 寻址。Media Access Control Address，媒体访问控制。也称局域网地址（LAN Address）、以太网地址（Ethernet Address）、物理地址（Physical Address）。48 位，IEEE 负责管理 MAC 地址空间的分配。

### ARP
Address Resolution Protocol，ARP，地址解析协议。它是一个通用协议，但主要负责网络层地址（IP，主要是 32 位 IPv4）和链路层地址（MAC，48位）之间的转换。

# 物理层

## 设备
主要有：HUB，中继器，网线（如果这个也算）。
**中继器**：将信号放大再调整传输，防止网络早期远距离传输的信号衰减。
**HUB**：HUB 模式下，某主机A向连在同一个 HUB 的主机 B 发送 bits 时，是先将 bits 发给 HUB，然后 HUB 直接发送给与该 HUB 相连接的每一个机器； HUB 中若有有多个主机想发送 bits，那么冲突可能会相当严重。因此后来引入了 Ethernet HUB，它有一个所谓的 CSMA/CD 检测算法，用来解决 HUB 的冲突问题。半双工传输。