---
title: 语法
date: 2018-04-17 10:05:20
categories: DB
tags: [DB, MySQL]
---
# WHERE & HAVING
首先，二者都可以实现过滤记录的功能。
区别主要有：
* 都作为过滤记录使用时，WHERE 可以作用于表的任意列字段，而 HAVING 只能作用于之前已经筛选出的列字段；
* 作用对象不同，WHERE 作用于表和视图，HAVING 作用于组。WHERE 无法与聚集函数（AVG() COUNT() SUM() MAX() MIN() 等）一起使用，即，再筛选条件只能是表中的列，而 HAVING 可以将结果的聚集处理组作为再筛选条件，即，一般会包含聚集函数，跟在 GROUP BY 之后；
* 即，WHERE 在聚合前筛选，即作用在 GROUP BY 和 HAVING 之前，HAVING 在聚合后对组记录再进行筛选。

# join(连接/联结)
在同一查询的结果集中包含来自多个表的列，这种操作叫做连接。
类型有 自连接、 内连接、外连接、交叉连接。

## 自连接
自连接是指对一张表的列进行自我连接，即多个查询操作作用在同一张表上的列。
一种方法是嵌套子查询，还有一种方法是使用表别名。

## 内连结
默认的连接方式。

### 等值连接
连接条件中使用等于号（=）运算符，其查询结果中列出被连接表中的所有列，包括其中的重复列。

### 不等连接
连接条件中使用除等于号之外运算符（>、<、<>、>=、<=、!>和!<）

## 外连接
### 左连接/左外连接
返回左表中的所有行，如果左表中行在右表中没有匹配行，则结果中右表中的列返回空值。

### 右连接/右外连接
与左连接相反，返回右表中的所有行，如果右表中行在左表中没有匹配行，则结果中左表中的列返回空值。

### 全连接
是左连接和右连接的组合，返回左表和右表中的所有行。当某行在另一表中没有匹配行，则另一表中的列返回空值。

## 交叉连接/笛卡儿积
不带 WHERE 条件子句，它将会返回被连接的两个表的笛卡尔积，返回结果的行数等于两个表行数的乘积。如果带 WHERE，返回或显示的是匹配的行数。
有 WHERE 子句，往往会先生成两个表行数乘积的数据表，然后才根据 WHERE 条件从中选择。

[参考：连接概念](https://blog.csdn.net/jiuqiyuliang/article/details/10474221)
