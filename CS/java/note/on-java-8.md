---
title: java编程思想5
date: 2018-06-13 21:35:32
categories: java
tags: [java]
---
[toc]

在 Java 中，对象的创建与初始化是统一的概念，二者不可分割。  c6.1
GC 只知道如何释放用 new 创建的对象的内存，为了处理“不是 new 分配的内存”的情况，Java 允许在类中定义一个名为 finalize() 的方法。  c6.4
在类中变量定义的顺序决定了它们初始化的顺序。即使变量定义散布在方法定义之间，它们仍会在任何方法（包括构造器）被调用之前得到初始化。初始化的顺序先是静态对象（如果它们之前没有被初始化的话），然后是非静态对象。静态初始化只有在必要时刻才会进行：当首次创建这个类的对象或首次访问这个类的静态成员（甚至不需要创建该类的对象）时。  c6.7

对于没有垃圾回收和析构函数自动调用机制的语言来说，finally 非常重要。它能使程序员保证：无论 try 块里发生了什么，内存总能得到释放。但 Java 有垃圾回收机制，所以内存释放不再是问题。而且，Java 也没有析构函数可供调用。那么，Java 中 finally 的作用为：当要把除内存之外的资源恢复到它们的初始状态时，就要用到 finally 子句。这种需要清理的资源包括：已经打开的文件或网络连接，在屏幕上画的图形，甚至可以是外部世界的某个开关。  c15.8

资源操作尽可能使用/推荐使用 try-with-resources，可以避免处理资源关闭的冗余代码，也更加安全、清晰、易于理解。 c15